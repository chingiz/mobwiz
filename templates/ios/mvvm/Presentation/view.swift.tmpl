import SwiftUI

struct {{pascalCase .Name}}View: View {
    @StateObject var viewModel: {{pascalCase .Name}}ViewModel
    
    var body: some View {
        Group {
            switch viewModel.state {
            case .loading:
                ProgressView("Loading...")
                
            case .loaded(let data):
                VStack {
                    Text("{{pascalCase .Name}}")
                        .font(.title)
                    Text("ID: \(data.id)")
                        .font(.body)
                }
                
            case .error(let message):
                VStack {
                    Image(systemName: "exclamationmark.triangle")
                        .font(.largeTitle)
                    Text(message)
                        .foregroundColor(.red)
                    Button("Retry") {
                        Task {
                            await viewModel.load()
                        }
                    }
                }
            }
        }
        .task {
            await viewModel.load()
        }
    }
}
